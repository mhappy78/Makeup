# 메이크업 & 이미지 변형 애플리케이션

안드로이드 메이크업 프로젝트를 파이썬으로 포팅한 다양한 이미지 처리 도구들입니다.

## 🎨 프로젝트 구성

### 1. 메이크업 애플리케이션

- **makeup_app.py**: 데스크톱 GUI 메이크업 앱
- **streamlit_app.py**: 웹 기반 메이크업 앱

### 2. 이미지 변형 도구 ✨ NEW!

- **simple_warping.py**: 간단하고 직관적인 이미지 변형 도구
- **image_warping.py**: 안드로이드 원본 알고리즘 구현 버전

## 🚀 설치 및 실행

### 의존성 설치

```bash
pip install -r requirements.txt
```

### 메이크업 앱 실행

```bash
# 데스크톱 앱
python makeup_app.py

# 웹 앱
streamlit run streamlit_app.py
```

### 이미지 변형 도구 실행

```bash
# 간단한 버전 (추천)
python simple_warping.py

# 고급 버전 (안드로이드 원본 알고리즘)
python image_warping.py
```

## 🎯 이미지 변형 도구 특징

### 핵심 기능

- **실시간 이미지 변형**: 마우스 클릭 & 드래그로 즉시 변형
- **다양한 변형 모드**:
  - 🔄 밀어내기: 드래그 방향으로 픽셀 이동
  - ⬅️ 당기기: 반대 방향으로 픽셀 이동
  - 🔍 확대: 중심점 기준 방사형 확대
  - 🔎 축소: 중심점 기준 방사형 축소

### 조절 가능한 파라미터

- **영향 반경**: 20px ~ 150px (변형 적용 범위)
- **변형 강도**: 0.1x ~ 3.0x (변형 정도)
- **실시간 미리보기**: 마우스 이동 시 영향 범위 표시

### 🧮 수학적 원리

안드로이드 원본의 핵심 변형 공식을 파이썬으로 구현:

```python
# 변형 계수 계산 (안드로이드 원본과 동일)
e = ((pow_r - dd) * (pow_r - dd)) / \
    ((pow_r - dd + d_pull * d_pull) * (pow_r - dd + d_pull * d_pull))

# 실제 좌표 이동
pull_x = e * (end_x - start_x) * strength
pull_y = e * (end_y - start_y) * strength
```

**공식 특성:**

- `pow_r`: 영향 반경의 제곱
- `dd`: 터치점과 각 픽셀의 거리 제곱
- `d_pull`: 드래그 거리
- 중심부에서 최대 변형, 가장자리에서 자연스럽게 감소

## 💡 사용법

### 기본 조작

1. **이미지 로드**: "📁 이미지 열기" 버튼 클릭
2. **변형 적용**:
   - 변형하고 싶은 부위에 마우스 클릭
   - 원하는 방향으로 드래그
   - 마우스를 놓으면 변형 적용
3. **파라미터 조정**: 슬라이더로 반경과 강도 조절
4. **모드 변경**: 라디오 버튼으로 변형 방식 선택

### 고급 팁

- **정밀 작업**: 작은 반경 + 낮은 강도
- **전체적 변형**: 큰 반경 + 높은 강도
- **점진적 변형**: 여러 번 반복 적용
- **자연스러운 효과**: 강도 1.0 이하 권장

## 🔧 기술 스택

- **이미지 처리**: OpenCV, NumPy
- **GUI**: Tkinter (데스크톱), Streamlit (웹)
- **얼굴 인식**: MediaPipe Face Mesh
- **이미지 변환**: PIL/Pillow

## 📊 성능 비교

| 버전              | 처리 속도  | 메모리 사용 | 변형 품질  | 사용 편의성 |
| ----------------- | ---------- | ----------- | ---------- | ----------- |
| simple_warping.py | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐    | ⭐⭐⭐⭐   | ⭐⭐⭐⭐⭐  |
| image_warping.py  | ⭐⭐⭐     | ⭐⭐        | ⭐⭐⭐⭐⭐ | ⭐⭐⭐      |

## 🎮 실제 적용 예시

### 얼굴 성형 효과

- **눈 확대**: 확대 모드로 눈 중심 클릭
- **얼굴 랜선**: 양 볼을 안쪽으로 밀어내기
- **턱 라인**: 턱 부분을 위로 당기기
- **콧대**: 코 양쪽을 중앙으로 밀어내기

### 기타 활용

- **사진 보정**: 불필요한 객체 이동/제거
- **예술적 효과**: 창작적 이미지 변형
- **재미있는 변형**: 과장된 얼굴 표현

## 🔍 안드로이드 vs 파이썬 비교

| 특징          | 안드로이드 원본 | 파이썬 버전             |
| ------------- | --------------- | ----------------------- |
| 격자 시스템   | 200x200 고정    | 유연한 해상도 대응      |
| 변형 알고리즘 | drawBitmapMesh  | cv2.remap + 수학적 변형 |
| 실시간 처리   | 하드웨어 가속   | CPU 기반 처리           |
| 플랫폼        | 안드로이드 전용 | 크로스 플랫폼           |
| 확장성        | 제한적          | 높음 (다양한 모드 추가) |

파이썬 버전은 안드로이드 원본의 핵심 수학적 원리를 유지하면서도 더 많은 기능과 사용성을 제공합니다!

## 📝 라이선스

이 프로젝트는 교육 및 연구 목적으로 제작되었습니다.
